
#include        <stdio.h>
#include        <stdlib.h>
#include        <unistd.h>
#include        <fcntl.h>
main (int argc, char * argv [ ] )
{ int fd, i=4, nb1,status;
  char buf [5];
        if ( fork ( )==0) {
             ++i;
            printf("Stoinostta na i= %d\n",i);}
       else  {--i; exit(0); wait ( &status) ;
         if ( execlp( "ls", "ls","-l",0) == -1) i=i+1;
         else
            printf("Stoinostta na i= %d\n",i);
               }
      printf("Stoinostta na i= %d\n",i);
}
#include        <stdio.h>
#include        <stdlib.h>
#include        <unistd.h>
#include        <fcntl.h>
#define CMD "wc -l $PWD"
main (int argc, char * argv [ ] )
{ int fd, i=2, nb1,status;
  char buf [5];
        if ( fork ()==0) {
             ++i; exit(0);}
       else  {if (execlp ( CMD,CMD,0) ==-1)
              {--i;  wait ( &status) ;
                 printf("Stoinostta na i= %d\n",i);
               }
              else printf("Stoinostta na i= %d\n",i);}
}
#include        <stdio.h>
#include        <stdlib.h>
#include        <unistd.h>
#include        <fcntl.h>

main ()
{
int pid, status ;
char  c = '0', d = 'b';

pid = fork ( ) ;
if  (  pid != 0  )
{ c = '2';  wait(&status);
}
else
{  d = 'z';
   write ( 1, "\n c= ", 5 ); write ( 1, &c, 1 ) ;
}
write ( 1, "\n d= ", 5 ); write ( 1, &d, 1 ) ;
}
#include        <stdio.h>
#include        <stdlib.h>
#include        <unistd.h>
#include        <fcntl.h>
main (int argc, char * argv [ ] )
{ int fd, j, nb1,status;
  char buf [5];
        if ( fork ( ))
           { wait ( &status) ;
             execlp ( "cat", "cat", argv[1], 0);
           }
        else { j = dup ( 1 );
               fd = open ( argv [1], O_RDWR );
               nb1 = read ( 0, buf, 5 );
                     write ( j, buf, nb1 );
               nb1 = read ( fd, buf, 5 );
                     write ( 1, buf, nb1 );
                     write ( fd, "\n", 1 ) ;
                     write ( fd, buf, nb1 );
                     write ( j, buf, 3 );
                     close ( fd ); close ( j ); exit(0);
              }
}
