# Обработване на Грешки и Рекурсивно Спускане


## 1. обработване на грешки

- обработването да не забавя компилацията

Три подхода по долу
### паник режим
засича грешка -> отхвърля жетон.

продължава докато не стигне сихронизиращ жетон. Терминатори на изрази или редове.

### правила за грешки
описва чести грешки.

например `5x` вместо `5*x`

### поправяне на грешки
Намира близка програма, която да е точна

HTML

## 2. абстрактни синтактични дървета

поток от жетони -> извод
### АСД
```
[ plus | | ]
        | |
       [5]|
          |
         [ plus | | ]
                 | |
                [2]|
                   |
                  [3]
```


## 3. рекурсивно спускане

дърво на извод се строй
- отгоре надолу
- отляво надясно

низходящ алгоритъм,
терминалите се обработват, в реда, в който се срещат.


### алгоритъм за рекурсивно спускане
- опитваме всяко правило, едно след друго 
- когато генерираме терминал
    - ако съвпадне, продължаваме
    - ако има провал, се връщаме


- TOKEN - жетон:
    - INT, CLOSE, OPEN, PLUS, TIMES
- next - глобална променлива - сочи следващ жетон
- 

### ограничения на PC
не е достатъчно гъвкав, но е лесен за писане - "Left factoring" - ляво извличане

### ляво-рекурсивно правила

трябва да премахваме ляво рекурсивни правила
"Elimination of left recursion"

```
E → E + T | T 
T → id | ( E ) 
```

Може да видим, че имаме T в горното. Така ще изведем E+T да е само E' -> + TE'
```
E → TE'
E' → + TE' | ε
T → id | ( E )

```


